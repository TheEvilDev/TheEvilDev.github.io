{"version":3,"sources":["pages/blog/posts/2014-05-25-AngularJSTabControl.mdx","../node_modules/@mdx-js/react/dist/esm.js"],"names":["Meta","id","title","tags","layoutProps","MDXContent","components","props","mdxType","parentName","isMDXComponent","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","call","MDXContext","React","createContext","useMDXComponents","contextComponents","useContext","allComponents","DEFAULTS","inlineCode","wrapper","_ref","children","createElement","Fragment","MDXCreateElement","forwardRef","ref","propComponents","originalType","etc","type","Component","concat","args","argsLength","createElementArgArray","Array","newProps","hasOwnProperty","displayName"],"mappings":"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","file":"static/js/4.d6c0dd6d.chunk.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const Meta = {\n  id: 'angular-js-tab-control',\n  title: 'Angular JS Tab Control - An Experiment with Directives',\n  tags: 'angularjs javascript tab-control directives'\n};\n\nconst layoutProps = {\n  Meta\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`I've been working with `}<a parentName=\"p\" {...{\n        \"href\": \"https://angularjs.org/\"\n      }}>{`AngularJS`}</a>{` for some time now at work, and I'm finding I really like it. Of course, one of the things I did wrong when I first started working with it, was to think \"jQuery\". After some self study, and reading many blog posts and articles, I finally understood what I was doing wrong. Angular is not a jQuery clone. It is not a typical browser abstraction library that jQuery is. It's a powerful front end framework for building dymanic, and declarative web applications.`}</p>\n    <p>{`After coming to this realization, and having the requirement at work to turn a basic web application page into a printable report, I decided to learn more about directives. So here is my first attempt at creating a reusable angularJS directive, a basic tab control.`}</p>\n    <h2>{`The HTML`}</h2>\n    <p>{`First, I had to decide what the HTML should look like, and I settled on something similar to:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<tab-control id=\"MyFirstTabControl\">\n    <tab id=\"Tab1Content\" name=\"Tab 1\" route=\"/tab1\" default>\n        Tab 1 content goes here\n    </tab>\n    <tab id=\"Tab2Content\" name=\"Tab 2\" route=\"/tab2\">\n        Tab 2 content goes here\n    </tab>\n    <tab id=\"Tab3Content\" name=\"Tab 3\" route=\"/tab3\">\n        Tab 3 content goes here\n    </tab>\n</tab-control>\n`}</code></pre>\n    <p>{`The primary pieces of this, includes the main directive, the \"tab-control\". This is basically a container element that's used to scope the tabs together.`}</p>\n    <p>{`Then, the bread and butter of the control, the \"tab\" directive contains the content, and the meta-data about each tab, including a route attribute that will modify the browser history on navigation, and allow the user to link to a specific tab on the page.`}</p>\n    <h2>{`The Javascript`}</h2>\n    <p>{`Next, we need to define the tab-control directive within my Angular application:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`var mainModule = angular.module(\"mainModule\", []);\n\nmainModule.directive('tabControl', function($location, $rootScope) {\n    return {\n        restrict: 'E',\n        template: '<ul id=\"{id}\" ng-repeat=\"tab in tabs\"><li><a href=\"#{{tab.route}}\">{{tab.name}}</a></li></ul><section ng-transclude></section>',\n        scope: {\n            id: '@id'\n        },\n        transclude: true,\n        controller: ['$scope', function($scope) {\n            $scope.tabs = []\n\n            this.addTab = function(tab){\n                \n                if(tab.IsDefault) {\n                    $location.path(tab.route);\n                    tab.selected = true;\n                }\n\n                $scope.tabs.push(tab);\n            }\n\n            $scope.selectTab = function(tab){\n                $location.path(tab.route);\n                $rootscope.$broadcast(\"TabChanged\", tab);\n\n                for(var i=0; i<$scope.tabs.length; i++){\n                    $scope.tabs[i].selected = ( tab.name == $scope.tabs[i].name );\n                }\n            }\n\n            $rootScope.$on('$locationChangeSuccess', function () {\n                var hash = $location.path();\n                \n                for (var i = 0; i < $scope.tabs.length; i++) {\n                    $scope.tabs[i].selected = ( hash.indexOf($scope.tabs[i].route) >= 0 );\n                }\n            });\n\n            this.selectTab = $scope.selectTab;\n        }]\n    };\n});\n`}</code></pre>\n    <p>{`The tab control directive is responsible for managing the list of tabs, as well as navigating between them. For this, we need access to the $location object, which allows us to control the browser history and the url. Because the tab control does not live inside a bubble, we also need to listen to the rootScope's locationChange event and select the appropriate tab. This allows other items on the page to navigate tabs, as well as the user to update the url in the browser window.`}</p>\n    <p>{`We're not done yet though, we still need another directive to define a \"tab\".`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`mainModule.directive('tab', function () {\n    return {\n        restrict: 'E',\n        template: '<article id={{id}} name=\"{{name}}\" ng-if=\"selected\" ng-transclude><header>{{name}}</header><section ng-transclude></section></article>',\n        transclude: true,\n        replace: false,\n        scope: {\n            id: '@',\n            name: '@',\n            route: '@',\n            default: '@',\n            selected: false\n        },\n        require: '^tabControl',\n        link: function (scope, element, attrs, ctrl) {\n            ctrl.addTab(scope);\n        }\n    };\n});\n`}</code></pre>\n    <p>{`This directive is pretty straightforward, we define the template for the html, and populate the scope attributes from the meta data of the original tab element. `}<em parentName=\"p\">{`Note: In this example, we are using ng-if to hide the hidden tabs. This has the advantage of completely removing the tab content from the HTML when it's not visible. This may not be ideal depending on your requirements, just change it to ng-show`}</em></p>\n    <p>{`The thing I like the most about this, is there's no dependency on the html. We can define tabs anywhere in our application, in a very declarative way. We also are doing 0 dom manipulations, making testing our directive straightforward, and simple.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","import React from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === 'function';\n};\n\nvar MDXContext = /*#__PURE__*/React.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = React.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/React.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = 'mdxType';\nvar DEFAULTS = {\n  inlineCode: 'code',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/React.createElement(React.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, [\"components\", \"mdxType\", \"originalType\", \"parentName\"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components[\"\".concat(parentName, \".\").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/React.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = 'MDXCreateElement';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === 'string' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === 'string' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return React.createElement.apply(null, createElementArgArray);\n  }\n\n  return React.createElement.apply(null, args);\n}\n\nexport { MDXContext, MDXProvider, createElement as mdx, useMDXComponents, withMDXComponents };\n"],"sourceRoot":""}